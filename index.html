<!DOCTYPE html>

obstacleTimer = 0;

}


for (let i = obstacles.length - 1; i >= 0; i--) {

const ob = obstacles[i];

ob.x -= 4;

drawObstacle(ob);


if (

player.x + player.size > ob.x &&

player.x - player.size < ob.x + ob.width &&

player.y + player.size > ob.y &&

player.y - player.size < ob.y + ob.height

) {

hitSound.play();

cancelAnimationFrame(animationId);

gameOver();

return;

}


if (!ob.scored && ob.x + ob.width < player.x) {

score++;

ob.scored = true;

scoreEl.textContent = "Score: " + score;

}


if (ob.x + ob.width < 0) {

obstacles.splice(i, 1);

}

}


animationId = requestAnimationFrame(update);

}


function startGame() {

resetGame();

isRunning = true;

overlay.style.display = "none";

pauseBtn.style.display = "inline-block";

restartBtn.style.display = "none";

update();

}


function gameOver() {

isRunning = false;

overlay.style.display = "block";

overlayText.textContent = "Game Over! Score: " + score;

startBtn.style.display = "none";

restartBtn.style.display = "inline-block";

pauseBtn.style.display = "none";

}


function togglePause() {

if (isRunning) {

cancelAnimationFrame(animationId);

isRunning = false;

pauseBtn.textContent = "Resume";

} else {

isRunning = true;

pauseBtn.textContent = "Pause";

update();

}

}


canvas.addEventListener("touchstart", () => {

if (!isRunning) return;

flip *= -1;

jumpSound.play();

});


startBtn.addEventListener("click", startGame);

restartBtn.addEventListener("click", startGame);

pauseBtn.addEventListener("click", togglePause);

</script>

</body>

</html>


